#!/bin/bash

# sincroniza_tostick -- script for sincronizing the UOC folder in Linux with
# the UOC folder in the pendrive.

# Jorge Vallejo - 16/02/2020 - version 2


# Beware, it deletes those files in destiny that are not longer in the origin.
# This first version (commented) is just a dry-run
# Since it sincronizes with an NTFS filesystem from an ext4(?) it is better not to compare permissions,
#   links, modification timestamps, ownership, nor special files and devices;
#   hence, the options: recursive, verbose, compress, human readable.


# Setting variables
desktop=EnUOC-master # Folder in desktop
USB=KURONEKO/UOC-master # Folder in USB pendrive


# Using $HOME and $USER variables so I can use it in any of my computers.


# Check if the user wants a dry run or a real run
if [ "$1" = '-d' ]
then
    #echo "$1"
    rsync -trvzhni --delete $HOME/EnUOC-master/ /media/$USER/KURONEKO/UOC-master
else
    #echo "Real run"
# This other version is the one that actually makes the changes
    rsync -trvzh --delete $HOME/$desktop/ /media/$USER/$USB
fi

###TODO###

# Check that origin directory and target directory both exist.

# Choose between dry run and real run.

# Make a call for help
